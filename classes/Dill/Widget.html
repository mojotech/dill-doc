<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
    <title>Dill::Widget</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <link rel="stylesheet" href="../../css/reset.css" type="text/css" media="screen" />
<link rel="stylesheet" href="../../css/main.css" type="text/css" media="screen" />
<link rel="stylesheet" href="../../css/github.css" type="text/css" media="screen" />
<script src="../../js/jquery-1.3.2.min.js" type="text/javascript" charset="utf-8"></script>
<script src="../../js/jquery-effect.js" type="text/javascript" charset="utf-8"></script>
<script src="../../js/main.js" type="text/javascript" charset="utf-8"></script>
<script src="../../js/highlight.pack.js" type="text/javascript" charset="utf-8"></script>

</head>

<body>     
    <div class="banner">
        
        <h1>
            <span class="type">Class</span> 
            Dill::Widget 
            
                <span class="parent">&lt; 
                    
                    <a href="../Object.html">Object</a>
                    
                </span>
            
        </h1>
        <ul class="files">
            
            <li><a href="../../files/lib/dill/widgets/widget_rb.html">lib/dill/widgets/widget.rb</a></li>
            
        </ul>
    </div>
    <div id="bodyContent">
        <div id="content">
  


  


  
  


  
    <!-- Namespace -->
    <div class="sectiontitle">Namespace</div>
    <ul>
      
        <li>
          <span class="type">CLASS</span>
          <a href="Widget/MissingSelector.html">Dill::Widget::MissingSelector</a>
        </li>
      
        <li>
          <span class="type">CLASS</span>
          <a href="Widget/Removed.html">Dill::Widget::Removed</a>
        </li>
      
    </ul>
  


  
    <!-- Method ref -->
    <div class="sectiontitle">Methods</div>
    <dl class="methods">
      
        <dt>A</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-absent-3F">absent?</a>,
              </li>
            
              
              <li>
                <a href="#method-c-action">action</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>C</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-click">click</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>D</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-diff">diff</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>F</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-c-find_in">find_in</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>G</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-gone-3F">gone?</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>H</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-has_action-3F">has_action?</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>I</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-inspect">inspect</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>N</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-c-new">new</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>P</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-present-3F">present?</a>,
              </li>
            
              
              <li>
                <a href="#method-c-present_in-3F">present_in?</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>R</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-root">root</a>,
              </li>
            
              
              <li>
                <a href="#method-c-root">root</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>S</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-c-selector">selector</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>T</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-text">text</a>,
              </li>
            
              
              <li>
                <a href="#method-i-to_cell">to_cell</a>,
              </li>
            
              
              <li>
                <a href="#method-i-to_s">to_s</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>V</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-value">value</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>W</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-c-widget">widget</a>,
              </li>
            
              
              <li>
                <a href="#method-c-widget_delegator">widget_delegator</a>
              </li>
            
          </ul>
        </dd>
      
    </dl>
  

  
    <!-- Includes -->
    <div class="sectiontitle">Included Modules</div>
    <ul>
      
        <li>
          
            <a href="WidgetParts/Struct.html">
              Dill::WidgetParts::Struct
            </a>
          
        </li>
      
        <li>
          
            <a href="WidgetParts/Container.html">
              Dill::WidgetParts::Container
            </a>
          
        </li>
      
    </ul>
  



  

    

    

    


    


    <!-- Methods -->
    
      <div class="sectiontitle">Class Public methods</div>
      
        <div class="method">
          <div class="title method-title" id="method-c-action">
            
              <b>action</b>(name, selector)
            
            <a href="../../classes/Dill/Widget.html#method-c-action" name="method-c-action" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Defines a new action.</p>

<p>This is a shortcut to help defining a widget and a method that clicks on
that widget. You can then send a widget instance the message given by
<code>name</code>.</p>

<p>You can access the underlying widget by appending “_widget” to the action
name.</p>

<p>@example</p>

<pre><code># Consider the widget will encapsulate the following HTML
#
# &lt;div id=&quot;profile&quot;&gt;
#  &lt;a href=&quot;/profiles/1/edit&quot; rel=&quot;edit&quot;&gt;Edit&lt;/a&gt;
# &lt;/div&gt;
class PirateProfile &lt; Dill::Widget
  root &quot;#profile&quot;

  # Declare the action
  action :edit, '[rel = edit]'
end

pirate_profile = widget(:pirate_profile)

# Access the action widget
action_widget = pirate_profile.widget(:edit_widget)
action_widget = pirate_profile.edit_widget

# Click the link
pirate_profile.edit
</code></pre>

<p>@param name the name of the action @param selector the selector for the
widget that will be clicked</p>
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-c-action_source')" id="l_method-c-action_source">show</a>
                
              </p>
              <div id="method-c-action_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/dill/widgets/widget.rb, line 45</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">self</span>.<span class="ruby-identifier">action</span>(<span class="ruby-identifier">name</span>, <span class="ruby-identifier">selector</span>)
  <span class="ruby-identifier">wname</span> = <span class="ruby-value">:&quot;#{name}_widget&quot;</span>

  <span class="ruby-identifier">widget</span> <span class="ruby-identifier">wname</span>, <span class="ruby-identifier">selector</span>

  <span class="ruby-identifier">define_method</span> <span class="ruby-identifier">name</span> <span class="ruby-keyword">do</span>
    <span class="ruby-identifier">widget</span>(<span class="ruby-identifier">wname</span>).<span class="ruby-identifier">click</span>

    <span class="ruby-keyword">self</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-find_in">
            
              <b>find_in</b>(parent, *args)
            
            <a href="../../classes/Dill/Widget.html#method-c-find_in" name="method-c-find_in" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Finds a single instance of the current widget in <code>node</code>.</p>

<p>@param node the node we want to search in</p>

<p>@return a new instance of the current widget class.</p>

<p>@raise [Capybara::ElementNotFoundError] if the widget can’t be found</p>
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-c-find_in_source')" id="l_method-c-find_in_source">show</a>
                
              </p>
              <div id="method-c-find_in_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/dill/widgets/widget.rb, line 183</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">self</span>.<span class="ruby-identifier">find_in</span>(<span class="ruby-identifier">parent</span>, <span class="ruby-operator">*</span><span class="ruby-identifier">args</span>)
  <span class="ruby-identifier">new</span> { <span class="ruby-identifier">parent</span>.<span class="ruby-identifier">root</span>.<span class="ruby-identifier">find</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">selector</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">args</span>)) }
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-new">
            
              <b>new</b>(node = nil, &amp;query)
            
            <a href="../../classes/Dill/Widget.html#method-c-new" name="method-c-new" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-c-new_source')" id="l_method-c-new_source">show</a>
                
              </p>
              <div id="method-c-new_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/dill/widgets/widget.rb, line 272</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">initialize</span>(<span class="ruby-identifier">node</span> = <span class="ruby-keyword">nil</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">query</span>)
  <span class="ruby-keyword">self</span>.<span class="ruby-identifier">node</span> = <span class="ruby-identifier">node</span>
  <span class="ruby-keyword">self</span>.<span class="ruby-identifier">query</span> = <span class="ruby-identifier">query</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-present_in-3F">
            
              <b>present_in?</b>(parent)
            
            <a href="../../classes/Dill/Widget.html#method-c-present_in-3F" name="method-c-present_in-3F" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Determines if an instance of this widget class exists in
<code>parent_node</code>.</p>

<p>@param parent_node [Capybara::Node] the node we want to search in</p>

<p>@return <code>true</code> if a widget instance is found, <code>false</code>
otherwise.</p>
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-c-present_in-3F_source')" id="l_method-c-present_in-3F_source">show</a>
                
              </p>
              <div id="method-c-present_in-3F_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/dill/widgets/widget.rb, line 193</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">self</span>.<span class="ruby-identifier">present_in?</span>(<span class="ruby-identifier">parent</span>)
  <span class="ruby-identifier">find_in</span>(<span class="ruby-identifier">parent</span>).<span class="ruby-identifier">present?</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-root">
            
              <b>root</b>(*selector, &amp;block)
            
            <a href="../../classes/Dill/Widget.html#method-c-root" name="method-c-root" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Sets this widget’s default selector.</p>

<p>You can pass more than one argument to it, or a single Array. Any valid
Capybara selector accepted by Capybara::Node::Finders#find will work.</p>

<h3 id="method-c-root-label-Examples">Examples</h3>

<p>Most of the time, your selectors will be Strings:</p>

<pre><code>class MyWidget &lt; Dill::Widget
  root '.selector'
end
</code></pre>

<p>This will match any element with a class of “selector”. For example:</p>

<pre><code>&lt;span class=&quot;selector&quot;&gt;Pick me!&lt;/span&gt;</code></pre>

<h4 id="method-c-root-label-Composite+selectors"><a href="../Composite.html">Composite</a> selectors</h4>

<p>If you’re using CSS as the query language, it’s useful to be able to use
+text: ‘Some text’+ to zero in on a specific node:</p>

<pre><code>class MySpecificWidget &lt; Dill::Widget
  root '.selector', text: 'Pick me!'
end
</code></pre>

<p>This is especially useful, e.g., when you want to create a widget to match
a specific error or notification:</p>

<pre><code>class NoFreeSpace &lt; Dill::Widget
  root '.error', text: 'No free space left!'
end
</code></pre>

<p>So, given the following HTML:</p>

<pre><code>&lt;body&gt;
  &lt;div class=&quot;error&quot;&gt;No free space left!&lt;/div&gt;

  &lt;!-- ... --&gt;
&lt;/body&gt;</code></pre>

<p>You can test for the error’s present using the following code:</p>

<pre><code>document.has_widget?(:no_free_space) #=&gt; true
</code></pre>

<p>Note: When you want to match text, consider using <code>I18n.t</code>
instead of hard-coding the text, so that your tests don’t break when the
text changes.</p>

<p>Finally, you may want to override the query language:</p>

<pre><code>class MyWidgetUsesXPath &lt; Dill::Widget
  root :xpath, '//some/node'
end
</code></pre>
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-c-root_source')" id="l_method-c-root_source">show</a>
                
              </p>
              <div id="method-c-root_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/dill/widgets/widget.rb, line 250</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">self</span>.<span class="ruby-identifier">root</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">selector</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
  <span class="ruby-ivar">@selector</span> = <span class="ruby-identifier">block</span> <span class="ruby-operator">?</span> [<span class="ruby-identifier">block</span>] <span class="ruby-operator">:</span> <span class="ruby-identifier">selector</span>.<span class="ruby-identifier">flatten</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-selector">
            
              <b>selector</b>(*args)
            
            <a href="../../classes/Dill/Widget.html#method-c-selector" name="method-c-selector" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Returns the selector specified with <code>root</code>.</p>
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-c-selector_source')" id="l_method-c-selector_source">show</a>
                
              </p>
              <div id="method-c-selector_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/dill/widgets/widget.rb, line 258</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">self</span>.<span class="ruby-identifier">selector</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">args</span>)
  <span class="ruby-keyword">if</span> <span class="ruby-ivar">@selector</span>
    <span class="ruby-identifier">fst</span> = <span class="ruby-ivar">@selector</span>.<span class="ruby-identifier">first</span>

    <span class="ruby-identifier">fst</span>.<span class="ruby-identifier">respond_to?</span>(<span class="ruby-value">:call</span>) <span class="ruby-operator">?</span> <span class="ruby-identifier">fst</span>.<span class="ruby-identifier">call</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">args</span>) <span class="ruby-operator">:</span> <span class="ruby-ivar">@selector</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-keyword">if</span> <span class="ruby-identifier">superclass</span>.<span class="ruby-identifier">respond_to?</span>(<span class="ruby-value">:selector</span>)
      <span class="ruby-identifier">superclass</span>.<span class="ruby-identifier">selector</span>
    <span class="ruby-keyword">else</span>
      <span class="ruby-identifier">raise</span> <span class="ruby-constant">MissingSelector</span>, <span class="ruby-string">'no selector defined'</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-widget">
            
              <b>widget</b>(name, *rest, &amp;block)
            
            <a href="../../classes/Dill/Widget.html#method-c-widget" name="method-c-widget" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Declares a new child widget.</p>

<p><a href="../Child.html">Child</a> widgets are accessible inside the
container widget using the {#widget} message, or by sending a message
<code>name</code>. They are automatically scoped to the parent widget’s
root node.</p>

<p>@example Defining a widget</p>

<pre><code># Given the following HTML:
#
# &lt;div id=&quot;root&quot;&gt;
#   &lt;span id=&quot;child&quot;&gt;Child&lt;/span&gt;
# &lt;/div&gt;
class Container &lt; Dill::Widget
  root '#root'

  widget :my_widget, '#child'
end

container = widget(:container)

# accessing using #widget
my_widget = container.widget(:my_widget)

# accessing using #my_widget
my_widget = container.my_widget
</code></pre>

<p>@overload widget(name, selector, type = <a href="Widget.html">Widget</a>)</p>

<pre><code>The most common form, it allows you to pass in a selector as well as a
type for the child widget. The selector will override +type+'s
root selector, if +type+ has one defined.

@param name the child widget's name.
@param selector the child widget's selector. You can pass either a
  String or, if you want to use a composite selector, an Array.
@param type the child widget's parent class.</code></pre>

<p>@overload widget(name, type)</p>

<pre><code>This form allows you to omit +selector+ from the arguments. It will
reuse +type+'s root selector.

@param name the child widget's name.
@param type the child widget's parent class.

@raise ArgumentError if +type+ has no root selector defined.</code></pre>

<p>@yield A block allowing you to further customize the widget behavior.</p>

<p>@see <a href="WidgetParts/Container.html#method-i-widget">widget</a></p>
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-c-widget_source')" id="l_method-c-widget_source">show</a>
                
              </p>
              <div id="method-c-widget_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/dill/widgets/widget.rb, line 107</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">self</span>.<span class="ruby-identifier">widget</span>(<span class="ruby-identifier">name</span>, <span class="ruby-operator">*</span><span class="ruby-identifier">rest</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
  <span class="ruby-identifier">raise</span> <span class="ruby-constant">ArgumentError</span>, <span class="ruby-node">&quot;`#{name}' is a reserved name&quot;</span>          <span class="ruby-keyword">if</span> <span class="ruby-constant">WidgetParts</span><span class="ruby-operator">::</span><span class="ruby-constant">Container</span>.<span class="ruby-identifier">instance_methods</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-identifier">name</span>.<span class="ruby-identifier">to_sym</span>)

  <span class="ruby-keyword">case</span> <span class="ruby-identifier">rest</span>.<span class="ruby-identifier">first</span>
  <span class="ruby-keyword">when</span> <span class="ruby-constant">Class</span>
    <span class="ruby-identifier">arg_count</span> = <span class="ruby-identifier">rest</span>.<span class="ruby-identifier">size</span> <span class="ruby-operator">+</span> <span class="ruby-number">1</span>
    <span class="ruby-identifier">raise</span> <span class="ruby-constant">ArgumentError</span>, <span class="ruby-node">&quot;wrong number of arguments (#{arg_count} for 2)&quot;</span>            <span class="ruby-keyword">unless</span> <span class="ruby-identifier">arg_count</span> <span class="ruby-operator">==</span> <span class="ruby-number">2</span>

    <span class="ruby-identifier">type</span> = <span class="ruby-identifier">rest</span>.<span class="ruby-identifier">first</span>
    <span class="ruby-identifier">raise</span> <span class="ruby-constant">TypeError</span>, <span class="ruby-node">&quot;can't convert `#{type}' to Widget&quot;</span>            <span class="ruby-keyword">unless</span> <span class="ruby-identifier">type</span>.<span class="ruby-identifier">methods</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-value">:selector</span>)
    <span class="ruby-identifier">raise</span> <span class="ruby-constant">ArgumentError</span>, <span class="ruby-node">&quot;missing root selector for `#{type}'&quot;</span>            <span class="ruby-keyword">unless</span> <span class="ruby-identifier">type</span>.<span class="ruby-identifier">selector</span>

    <span class="ruby-identifier">selector</span> = <span class="ruby-identifier">type</span>.<span class="ruby-identifier">selector</span>
  <span class="ruby-keyword">when</span> <span class="ruby-constant">String</span>, <span class="ruby-constant">Array</span>, <span class="ruby-constant">Proc</span>
    <span class="ruby-identifier">arg_count</span> = <span class="ruby-identifier">rest</span>.<span class="ruby-identifier">size</span> <span class="ruby-operator">+</span> <span class="ruby-number">1</span>

    <span class="ruby-keyword">case</span> <span class="ruby-identifier">arg_count</span>
    <span class="ruby-keyword">when</span> <span class="ruby-number">0</span>, <span class="ruby-number">1</span>
      <span class="ruby-identifier">raise</span> <span class="ruby-constant">ArgumentError</span>, <span class="ruby-node">&quot;wrong number of arguments (#{arg_count} for 2)&quot;</span>
    <span class="ruby-keyword">when</span> <span class="ruby-number">2</span>
      <span class="ruby-identifier">selector</span>, <span class="ruby-identifier">type</span> = [<span class="ruby-operator">*</span><span class="ruby-identifier">rest</span>, <span class="ruby-constant">Widget</span>]
    <span class="ruby-keyword">when</span> <span class="ruby-number">3</span>
      <span class="ruby-identifier">selector</span>, <span class="ruby-identifier">type</span> = <span class="ruby-identifier">rest</span>

      <span class="ruby-identifier">raise</span> <span class="ruby-constant">TypeError</span>, <span class="ruby-node">&quot;can't convert `#{type}' to Widget&quot;</span>              <span class="ruby-keyword">unless</span> <span class="ruby-constant">Class</span> <span class="ruby-operator">===</span> <span class="ruby-identifier">type</span>
    <span class="ruby-keyword">else</span>
      <span class="ruby-identifier">raise</span> <span class="ruby-constant">ArgumentError</span>, <span class="ruby-node">&quot;wrong number of arguments (#{arg_count} for 3)&quot;</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">raise</span> <span class="ruby-constant">ArgumentError</span>, <span class="ruby-node">&quot;unknown method signature: #{rest.inspect}&quot;</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">child</span> = <span class="ruby-constant">WidgetClass</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">selector</span>, <span class="ruby-identifier">type</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)

  <span class="ruby-identifier">const_set</span>(<span class="ruby-constant">Dill</span><span class="ruby-operator">::</span><span class="ruby-constant">WidgetName</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">name</span>).<span class="ruby-identifier">to_sym</span>, <span class="ruby-identifier">child</span>)

  <span class="ruby-identifier">child</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-widget_delegator">
            
              <b>widget_delegator</b>(name, widget_message, method_name = nil)
            
            <a href="../../classes/Dill/Widget.html#method-c-widget_delegator" name="method-c-widget_delegator" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Creates a delegator for one child widget message.</p>

<p>Since widgets are accessed through {WidgetParts::Container#widget}, we
can’t use {Forwardable} to delegate messages to widgets.</p>

<p>@param name the name of the receiver child widget @param widget_message the
name of the message to be sent to the child widget @param method_name the
name of the delegator. If <code>nil</code> the method will</p>

<pre><code>have the same name as the message it will send.</code></pre>
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-c-widget_delegator_source')" id="l_method-c-widget_delegator_source">show</a>
                
              </p>
              <div id="method-c-widget_delegator_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/dill/widgets/widget.rb, line 160</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">self</span>.<span class="ruby-identifier">widget_delegator</span>(<span class="ruby-identifier">name</span>, <span class="ruby-identifier">widget_message</span>, <span class="ruby-identifier">method_name</span> = <span class="ruby-keyword">nil</span>)
  <span class="ruby-identifier">method_name</span> = <span class="ruby-identifier">method_name</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">widget_message</span>

  <span class="ruby-identifier">class_eval</span> <span class="ruby-value">&lt;&lt;-RUBY
    def #{method_name}(*args)
      if args.size == 1
        widget(:#{name}).#{widget_message} args.first
      else
        widget(:#{name}).#{widget_message} *args
      end
    end
  RUBY</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
                  
      <div class="sectiontitle">Instance Public methods</div>
      
        <div class="method">
          <div class="title method-title" id="method-i-absent-3F">
            
              <b>absent?</b>()
            
            <a href="../../classes/Dill/Widget.html#method-i-absent-3F" name="method-i-absent-3F" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Alias for <a href="Widget.html#method-i-gone-3F">gone?</a></p>
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-absent-3F_source')" id="l_method-i-absent-3F_source">show</a>
                
              </p>
              <div id="method-i-absent-3F_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/dill/widgets/widget.rb, line 278</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">absent?</span>
  <span class="ruby-identifier">gone?</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-click">
            
              <b>click</b>(*args)
            
            <a href="../../classes/Dill/Widget.html#method-i-click" name="method-i-click" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Clicks the current widget, or the child widget given by <code>name</code>.</p>

<h3 id="method-i-click-label-Usage">Usage</h3>

<p>Given the following widget definition:</p>

<pre><code>class Container &lt; Dill::Widget
  root '#container'

  widget :link, 'a'
end
</code></pre>

<p>Send <code>click</code> with no arguments to trigger a <code>click</code>
event on <code>#container</code>.</p>

<pre><code>widget(:container).click</code></pre>

<p>This is the equivalent of doing the following using Capybara:</p>

<pre><code>find('#container').click</code></pre>

<p>Send +click :link+ to trigger a <code>click</code> event on <code>a</code>:</p>

<pre><code>widget(:container).click :link</code></pre>

<p>This is the equivalent of doing the following using Capybara:</p>

<pre><code>find('#container a').click</code></pre>
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-click_source')" id="l_method-i-click_source">show</a>
                
              </p>
              <div id="method-i-click_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/dill/widgets/widget.rb, line 309</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">click</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">args</span>)
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">args</span>.<span class="ruby-identifier">empty?</span>
    <span class="ruby-identifier">root</span>.<span class="ruby-identifier">click</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">widget</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">args</span>).<span class="ruby-identifier">click</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-diff">
            
              <b>diff</b>(table, wait_time = Capybara.default_wait_time)
            
            <a href="../../classes/Dill/Widget.html#method-i-diff" name="method-i-diff" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Compares this widget with the given Cucumber <code>table</code>.</p>

<h3 id="method-i-diff-label-Example">Example</h3>

<pre><code>Then(/^some step that takes in a cucumber table$/) do |table|
  widget(:my_widget).diff table
end
</code></pre>
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-diff_source')" id="l_method-i-diff_source">show</a>
                
              </p>
              <div id="method-i-diff_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/dill/widgets/widget.rb, line 324</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">diff</span>(<span class="ruby-identifier">table</span>, <span class="ruby-identifier">wait_time</span> = <span class="ruby-constant">Capybara</span>.<span class="ruby-identifier">default_wait_time</span>)
  <span class="ruby-identifier">table</span>.<span class="ruby-identifier">diff!</span>(<span class="ruby-identifier">to_table</span>) <span class="ruby-operator">||</span> <span class="ruby-keyword">true</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-gone-3F">
            
              <b>gone?</b>()
            
            <a href="../../classes/Dill/Widget.html#method-i-gone-3F" name="method-i-gone-3F" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Returns <code>true</code> if the widget is not visible, or has been removed
from the DOM.</p>
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-gone-3F_source')" id="l_method-i-gone-3F_source">show</a>
                
              </p>
              <div id="method-i-gone-3F_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/dill/widgets/widget.rb, line 330</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">gone?</span>
  <span class="ruby-operator">!</span> <span class="ruby-identifier">root</span> <span class="ruby-keyword">rescue</span> <span class="ruby-keyword">true</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-has_action-3F">
            
              <b>has_action?</b>(name)
            
            <a href="../../classes/Dill/Widget.html#method-i-has_action-3F" name="method-i-has_action-3F" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Determines if the widget underlying an action exists.</p>

<p>@param name the name of the action</p>

<p>@raise <a href="Missing.html">Missing</a> if an action with
<code>name</code> can’t be found.</p>

<p>@return [Boolean] <code>true</code> if the action widget is found,
<code>false</code></p>

<pre><code>otherwise.</code></pre>
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-has_action-3F_source')" id="l_method-i-has_action-3F_source">show</a>
                
              </p>
              <div id="method-i-has_action-3F_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/dill/widgets/widget.rb, line 342</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">has_action?</span>(<span class="ruby-identifier">name</span>)
  <span class="ruby-identifier">raise</span> <span class="ruby-constant">Missing</span>, <span class="ruby-node">&quot;couldn't find `#{name}' action&quot;</span> <span class="ruby-keyword">unless</span> <span class="ruby-identifier">respond_to?</span>(<span class="ruby-identifier">name</span>)

  <span class="ruby-identifier">has_widget?</span>(<span class="ruby-value">:&quot;#{name}_widget&quot;</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-inspect">
            
              <b>inspect</b>()
            
            <a href="../../classes/Dill/Widget.html#method-i-inspect" name="method-i-inspect" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-inspect_source')" id="l_method-i-inspect_source">show</a>
                
              </p>
              <div id="method-i-inspect_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/dill/widgets/widget.rb, line 348</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">inspect</span>
  <span class="ruby-identifier">inspection</span> = <span class="ruby-node">&quot;&lt;!-- #{self.class.name}: --&gt;\n&quot;</span>

  <span class="ruby-keyword">begin</span>
    <span class="ruby-identifier">root</span> = <span class="ruby-keyword">self</span>.<span class="ruby-identifier">root</span>
    <span class="ruby-identifier">xml</span> = <span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">HTML</span>(<span class="ruby-identifier">page</span>.<span class="ruby-identifier">body</span>).<span class="ruby-identifier">at</span>(<span class="ruby-identifier">root</span>.<span class="ruby-identifier">path</span>).<span class="ruby-identifier">to_xml</span>

    <span class="ruby-identifier">inspection</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span>(<span class="ruby-identifier">xml</span>, <span class="ruby-operator">&amp;</span><span class="ruby-value">:noblanks</span>).<span class="ruby-identifier">to_xhtml</span>
  <span class="ruby-keyword">rescue</span> <span class="ruby-constant">Capybara</span><span class="ruby-operator">::</span><span class="ruby-constant">NotSupportedByDriverError</span>
    <span class="ruby-identifier">inspection</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-node">&quot;&lt;#{root.tag_name}&gt;\n#{to_s}&quot;</span>
  <span class="ruby-keyword">rescue</span> <span class="ruby-constant">Capybara</span><span class="ruby-operator">::</span><span class="ruby-constant">ElementNotFound</span>, <span class="ruby-operator">*</span><span class="ruby-identifier">page</span>.<span class="ruby-identifier">driver</span>.<span class="ruby-identifier">invalid_element_errors</span>
    <span class="ruby-node">&quot;#&lt;DETACHED&gt;&quot;</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-present-3F">
            
              <b>present?</b>()
            
            <a href="../../classes/Dill/Widget.html#method-i-present-3F" name="method-i-present-3F" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Returns <code>true</code> if widget is visible.</p>
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-present-3F_source')" id="l_method-i-present-3F_source">show</a>
                
              </p>
              <div id="method-i-present-3F_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/dill/widgets/widget.rb, line 364</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">present?</span>
  <span class="ruby-operator">!</span><span class="ruby-operator">!</span> <span class="ruby-identifier">root</span> <span class="ruby-keyword">rescue</span> <span class="ruby-keyword">false</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-root">
            
              <b>root</b>()
            
            <a href="../../classes/Dill/Widget.html#method-i-root" name="method-i-root" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-root_source')" id="l_method-i-root_source">show</a>
                
              </p>
              <div id="method-i-root_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/dill/widgets/widget.rb, line 368</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">root</span>
  <span class="ruby-identifier">node</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">query</span>.()
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-text">
            
              <b>text</b>()
            
            <a href="../../classes/Dill/Widget.html#method-i-text" name="method-i-text" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-text_source')" id="l_method-i-text_source">show</a>
                
              </p>
              <div id="method-i-text_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/dill/widgets/widget.rb, line 372</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">text</span>
  <span class="ruby-identifier">root</span>.<span class="ruby-identifier">text</span>.<span class="ruby-identifier">strip</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-to_cell">
            
              <b>to_cell</b>()
            
            <a href="../../classes/Dill/Widget.html#method-i-to_cell" name="method-i-to_cell" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Converts this widget into a string representation suitable to be displayed
in a Cucumber table cell. By default calls <a
href="Widget.html#method-i-text">text</a>.</p>

<p>This method will be called by methods that build tables or rows (usually
to_table or to_row) so, in general, you won’t call it directly, but feel
free to override it when needed.</p>

<p>Returns a String.</p>
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-to_cell_source')" id="l_method-i-to_cell_source">show</a>
                
              </p>
              <div id="method-i-to_cell_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/dill/widgets/widget.rb, line 384</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">to_cell</span>
  <span class="ruby-identifier">text</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-to_s">
            
              <b>to_s</b>()
            
            <a href="../../classes/Dill/Widget.html#method-i-to_s" name="method-i-to_s" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-to_s_source')" id="l_method-i-to_s_source">show</a>
                
              </p>
              <div id="method-i-to_s_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/dill/widgets/widget.rb, line 388</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">to_s</span>
  <span class="ruby-identifier">text</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-value">
            
              <b>value</b>()
            
            <a href="../../classes/Dill/Widget.html#method-i-value" name="method-i-value" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          

          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-value_source')" id="l_method-i-value_source">show</a>
                
              </p>
              <div id="method-i-value_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/dill/widgets/widget.rb, line 392</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">value</span>
  <span class="ruby-identifier">text</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
                    </div>

    </div>
  </body>
</html>    