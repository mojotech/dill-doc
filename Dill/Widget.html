<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>
  Class: Dill::Widget
  
    &mdash; Documentation by YARD 0.8.7.3
  
</title>

  <link rel="stylesheet" href="../css/style.css" type="text/css" charset="utf-8" />

  <link rel="stylesheet" href="../css/common.css" type="text/css" charset="utf-8" />

<script type="text/javascript" charset="utf-8">
  hasFrames = window.top.frames.main ? true : false;
  relpath = '../';
  framesUrl = "../frames.html#!Dill/Widget.html";
</script>


  <script type="text/javascript" charset="utf-8" src="../js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="../js/app.js"></script>


  </head>
  <body>
    <div id="header">
      <div id="menu">
  
    <a href="../_index.html">Index (W)</a> &raquo;
    <span class='title'><span class='object_link'><a href="../Dill.html" title="Dill (module)">Dill</a></span></span>
     &raquo; 
    <span class="title">Widget</span>
  

  <div class="noframes"><span class="title">(</span><a href="." target="_top">no frames</a><span class="title">)</span></div>
</div>

      <div id="search">
  
    <a class="full_list_link" id="class_list_link"
        href="../class_list.html">
      Class List
    </a>
  
    <a class="full_list_link" id="method_list_link"
        href="../method_list.html">
      Method List
    </a>
  
    <a class="full_list_link" id="file_list_link"
        href="../file_list.html">
      File List
    </a>
  
</div>
      <div class="clear"></div>
    </div>

    <iframe id="search_frame"></iframe>

    <div id="content"><h1>Class: Dill::Widget
  
  
  
</h1>

<dl class="box">
  
    <dt class="r1">Inherits:</dt>
    <dd class="r1">
      <span class="inheritName">Object</span>
      
        <ul class="fullTree">
          <li>Object</li>
          
            <li class="next">Dill::Widget</li>
          
        </ul>
        <a href="#" class="inheritanceTree">show all</a>
      
      </dd>
    
  
  
    
      <dt class="r2">Extended by:</dt>
      <dd class="r2">Forwardable</dd>
      
    
  
    
      <dt class="r1">Includes:</dt>
      <dd class="r1"><span class='object_link'><a href="WidgetParts/Container.html" title="Dill::WidgetParts::Container (module)">Dill::WidgetParts::Container</a></span>, <span class='object_link'><a href="WidgetParts/Struct.html" title="Dill::WidgetParts::Struct (module)">Dill::WidgetParts::Struct</a></span></dd>
      
    
  
  
  
    <dt class="r2 last">Defined in:</dt>
    <dd class="r2 last">lib/dill/widgets/widget.rb</dd>
  
</dl>
<div class="clear"></div>

<div id="subclasses">
  <h2>Direct Known Subclasses</h2>
  <p class="children"><span class='object_link'><a href="AutoTable/Row.html" title="Dill::AutoTable::Row (class)">AutoTable::Row</a></span>, <span class='object_link'><a href="BaseTable.html" title="Dill::BaseTable (class)">BaseTable</a></span>, <span class='object_link'><a href="Field.html" title="Dill::Field (class)">Field</a></span>, <span class='object_link'><a href="FieldGroup.html" title="Dill::FieldGroup (class)">FieldGroup</a></span>, <span class='object_link'><a href="List.html" title="Dill::List (class)">List</a></span>, <span class='object_link'><a href="ListItem.html" title="Dill::ListItem (class)">ListItem</a></span></p>
</div>
<h2>Defined Under Namespace</h2>
<p class="children">
  
    
  
    
      <strong class="classes">Classes:</strong> <span class='object_link'><a href="Widget/MissingSelector.html" title="Dill::Widget::MissingSelector (class)">MissingSelector</a></span>, <span class='object_link'><a href="Widget/Removed.html" title="Dill::Widget::Removed (class)">Removed</a></span>
    
  
</p>







  
    <h2>
      Widget macros
      <small>(<a href="#" class="summary_toggle">collapse</a>)</small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#action-class_method" title="action (class method)">+ (Object) <strong>action</strong>(name, selector) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Defines a new action.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#widget-class_method" title="widget (class method)">+ (Object) <strong>widget</strong>(name, *rest) { ... }</a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Declares a new child widget.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#widget_delegator-class_method" title="widget_delegator (class method)">+ (Object) <strong>widget_delegator</strong>(name, widget_message, method_name = nil) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Creates a delegator for one child widget message.</p>
</div></span>
  
</li>

      
    </ul>
  
    <h2>
      Class Method Summary
      <small>(<a href="#" class="summary_toggle">collapse</a>)</small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#find_in-class_method" title="find_in (class method)">+ (Object) <strong>find_in</strong>(parent, *args) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Finds a single instance of the current widget in <code>node</code>.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#present_in%3F-class_method" title="present_in? (class method)">+ (Boolean) <strong>present_in?</strong>(parent) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Determines if an instance of this widget class exists in
<code>parent_node</code>.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#root-class_method" title="root (class method)">+ (Object) <strong>root</strong>(*selector, &amp;block) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Sets this widget&#39;s default selector.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#selector-class_method" title="selector (class method)">+ (Object) <strong>selector</strong>(*args) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns the selector specified with <code>root</code>.</p>
</div></span>
  
</li>

      
    </ul>
  
    <h2>
      Instance Method Summary
      <small>(<a href="#" class="summary_toggle">collapse</a>)</small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#absent%3F-instance_method" title="#absent? (instance method)">- (Boolean) <strong>absent?</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Alias for #gone?.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#click-instance_method" title="#click (instance method)">- (Object) <strong>click</strong>(*args) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Clicks the current widget, or the child widget given by <code>name</code>.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#diff-instance_method" title="#diff (instance method)">- (Object) <strong>diff</strong>(table, wait_time = Capybara.default_wait_time) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Compares this widget with the given Cucumber <code>table</code>.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#gone%3F-instance_method" title="#gone? (instance method)">- (Boolean) <strong>gone?</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns <code>true</code> if the widget is not visible, or has been removed
from the DOM.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#has_action%3F-instance_method" title="#has_action? (instance method)">- (Boolean) <strong>has_action?</strong>(name) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Determines if the widget underlying an action exists.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#initialize-instance_method" title="#initialize (instance method)">- (Widget) <strong>initialize</strong>(node = nil, &amp;query) </a>
    

    
  </span>
  
  
    <span class="note title constructor">constructor</span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>A new instance of Widget.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#inspect-instance_method" title="#inspect (instance method)">- (Object) <strong>inspect</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#present%3F-instance_method" title="#present? (instance method)">- (Boolean) <strong>present?</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns <code>true</code> if widget is visible.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#root-instance_method" title="#root (instance method)">- (Object) <strong>root</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#text-instance_method" title="#text (instance method)">- (Object) <strong>text</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#to_cell-instance_method" title="#to_cell (instance method)">- (Object) <strong>to_cell</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Converts this widget into a string representation suitable to be displayed
in a Cucumber table cell.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#to_s-instance_method" title="#to_s (instance method)">- (Object) <strong>to_s</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#value-instance_method" title="#value (instance method)">- (Object) <strong>value</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
    </ul>
  


  
  
  
  
  
  
  
  
  
  <h3 class="inherited">Methods included from <span class='object_link'><a href="WidgetParts/Container.html" title="Dill::WidgetParts::Container (module)">Dill::WidgetParts::Container</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="WidgetParts/Container.html#has_no_widget%3F-instance_method" title="Dill::WidgetParts::Container#has_no_widget? (method)">#has_no_widget?</a></span>, <span class='object_link'><a href="WidgetParts/Container.html#has_widget%3F-instance_method" title="Dill::WidgetParts::Container#has_widget? (method)">#has_widget?</a></span>, <span class='object_link'><a href="WidgetParts/Container.html#widget-instance_method" title="Dill::WidgetParts::Container#widget (method)">#widget</a></span></p>

  
  
  
  
  
  
  
  
  <h3 class="inherited">Methods included from <span class='object_link'><a href="WidgetParts/Struct.html" title="Dill::WidgetParts::Struct (module)">Dill::WidgetParts::Struct</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="WidgetParts/Struct.html#included-class_method" title="Dill::WidgetParts::Struct.included (method)">included</a></span></p>
<div id="constructor_details" class="method_details_list">
  <h2>Constructor Details</h2>
  
    <div class="method_details first">
  <h3 class="signature first" id="initialize-instance_method">
  
    - (<tt><span class='object_link'><a href="" title="Dill::Widget (class)">Widget</a></span></tt>) <strong>initialize</strong>(node = nil, &amp;query) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns a new instance of Widget</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


272
273
274
275</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/dill/widgets/widget.rb', line 272</span>

<span class='kw'>def</span> <span class='id identifier rubyid_initialize'>initialize</span><span class='lparen'>(</span><span class='id identifier rubyid_node'>node</span> <span class='op'>=</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_query'>query</span><span class='rparen'>)</span>
  <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_node'>node</span> <span class='op'>=</span> <span class='id identifier rubyid_node'>node</span>
  <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_query'>query</span> <span class='op'>=</span> <span class='id identifier rubyid_query'>query</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
  
</div>


  <div id="class_method_details" class="method_details_list">
    <h2>Class Method Details</h2>

    
      <div class="method_details first">
  <h3 class="signature first" id="action-class_method">
  
    + (<tt>Object</tt>) <strong>action</strong>(name, selector) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Defines a new action.</p>

<p>This is a shortcut to help defining a widget and a method that clicks on
that widget. You can then send a widget instance the message given by
<code>name</code>.</p>

<p>You can access the underlying widget by appending “_widget” to the action
name.</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <p class="tag_title">Examples:</p>
    
      
      <pre class="example code"><code><span class='comment'># Consider the widget will encapsulate the following HTML
</span><span class='comment'>#
</span><span class='comment'># &lt;div id=&quot;profile&quot;&gt;
</span><span class='comment'>#  &lt;a href=&quot;/profiles/1/edit&quot; rel=&quot;edit&quot;&gt;Edit&lt;/a&gt;
</span><span class='comment'># &lt;/div&gt;
</span><span class='kw'>class</span> <span class='const'>PirateProfile</span> <span class='op'>&lt;</span> <span class='const'>Dill</span><span class='op'>::</span><span class='const'>Widget</span>
  <span class='id identifier rubyid_root'>root</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>#profile</span><span class='tstring_end'>&quot;</span></span>

  <span class='comment'># Declare the action
</span>  <span class='id identifier rubyid_action'>action</span> <span class='symbol'>:edit</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>[rel = edit]</span><span class='tstring_end'>&#39;</span></span>
<span class='kw'>end</span>

<span class='id identifier rubyid_pirate_profile'>pirate_profile</span> <span class='op'>=</span> <span class='id identifier rubyid_widget'>widget</span><span class='lparen'>(</span><span class='symbol'>:pirate_profile</span><span class='rparen'>)</span>

<span class='comment'># Access the action widget
</span><span class='id identifier rubyid_action_widget'>action_widget</span> <span class='op'>=</span> <span class='id identifier rubyid_pirate_profile'>pirate_profile</span><span class='period'>.</span><span class='id identifier rubyid_widget'>widget</span><span class='lparen'>(</span><span class='symbol'>:edit_widget</span><span class='rparen'>)</span>
<span class='id identifier rubyid_action_widget'>action_widget</span> <span class='op'>=</span> <span class='id identifier rubyid_pirate_profile'>pirate_profile</span><span class='period'>.</span><span class='id identifier rubyid_edit_widget'>edit_widget</span>

<span class='comment'># Click the link
</span><span class='id identifier rubyid_pirate_profile'>pirate_profile</span><span class='period'>.</span><span class='id identifier rubyid_edit'>edit</span></code></pre>
    
  </div>
<p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>name</span>
      
      
        <span class='type'></span>
      
      
      
        &mdash;
        <div class='inline'>
<p>the name of the action</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>selector</span>
      
      
        <span class='type'></span>
      
      
      
        &mdash;
        <div class='inline'>
<p>the selector for the widget that will be clicked</p>
</div>
      
    </li>
  
</ul>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


45
46
47
48
49
50
51
52
53
54
55</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/dill/widgets/widget.rb', line 45</span>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_action'>action</span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='id identifier rubyid_selector'>selector</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_wname'>wname</span> <span class='op'>=</span> <span class='symbol'>:#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_content'>_widget</span><span class='tstring_end'>&quot;</span></span>

  <span class='id identifier rubyid_widget'>widget</span> <span class='id identifier rubyid_wname'>wname</span><span class='comma'>,</span> <span class='id identifier rubyid_selector'>selector</span>

  <span class='id identifier rubyid_define_method'>define_method</span> <span class='id identifier rubyid_name'>name</span> <span class='kw'>do</span>
    <span class='id identifier rubyid_widget'>widget</span><span class='lparen'>(</span><span class='id identifier rubyid_wname'>wname</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_click'>click</span>

    <span class='kw'>self</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="find_in-class_method">
  
    + (<tt>Object</tt>) <strong>find_in</strong>(parent, *args) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Finds a single instance of the current widget in <code>node</code>.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>node</span>
      
      
        <span class='type'></span>
      
      
      
        &mdash;
        <div class='inline'>
<p>the node we want to search in</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'></span>
      
      
      
        
        <div class='inline'>
<p>a new instance of the current widget class.</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Raises:</p>
<ul class="raise">
  
    <li>
      
      
        <span class='type'>(<tt>Capybara::ElementNotFoundError</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>if the widget can&#39;t be found</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


183
184
185</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/dill/widgets/widget.rb', line 183</span>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_find_in'>find_in</span><span class='lparen'>(</span><span class='id identifier rubyid_parent'>parent</span><span class='comma'>,</span> <span class='op'>*</span><span class='id identifier rubyid_args'>args</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_new'>new</span> <span class='lbrace'>{</span> <span class='id identifier rubyid_parent'>parent</span><span class='period'>.</span><span class='id identifier rubyid_root'>root</span><span class='period'>.</span><span class='id identifier rubyid_find'>find</span><span class='lparen'>(</span><span class='op'>*</span><span class='id identifier rubyid_selector'>selector</span><span class='lparen'>(</span><span class='op'>*</span><span class='id identifier rubyid_args'>args</span><span class='rparen'>)</span><span class='rparen'>)</span> <span class='rbrace'>}</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="present_in?-class_method">
  
    + (<tt>Boolean</tt>) <strong>present_in?</strong>(parent) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Determines if an instance of this widget class exists in
<code>parent_node</code>.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>parent_node</span>
      
      
        <span class='type'>(<tt>Capybara::Node</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>the node we want to search in</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p><code>true</code> if a widget instance is found, <code>false</code>
otherwise.</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


193
194
195</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/dill/widgets/widget.rb', line 193</span>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_present_in?'>present_in?</span><span class='lparen'>(</span><span class='id identifier rubyid_parent'>parent</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_find_in'>find_in</span><span class='lparen'>(</span><span class='id identifier rubyid_parent'>parent</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_present?'>present?</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="root-class_method">
  
    + (<tt>Object</tt>) <strong>root</strong>(*selector, &amp;block) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Sets this widget&#39;s default selector.</p>

<p>You can pass more than one argument to it, or a single Array. Any valid
Capybara selector accepted by Capybara::Node::Finders#find will work.</p>

<h3 id="label-Examples">Examples</h3>

<p>Most of the time, your selectors will be Strings:</p>

<pre class="ruby"><span class="ruby-keyword">class</span> <span class="ruby-constant">MyWidget</span> <span class="ruby-operator">&lt;</span> <span class="ruby-constant">Dill</span><span class="ruby-operator">::</span><span class="ruby-constant">Widget</span>
  <span class="ruby-identifier">root</span> <span class="ruby-string">&#39;.selector&#39;</span>
<span class="ruby-keyword">end</span>
</pre>

<p>This will match any element with a class of “selector”. For example:</p>

<pre class="code ruby"><code class="ruby">&lt;span class=&quot;selector&quot;&gt;Pick me!&lt;/span&gt;</code></pre>

<h4 id="label-Composite+selectors">Composite selectors</h4>

<p>If you&#39;re using CSS as the query language, it&#39;s useful to be able
to use <tt>text: &#39;Some text&#39;</tt> to zero in on a specific node:</p>

<pre class="ruby"><span class="ruby-keyword">class</span> <span class="ruby-constant">MySpecificWidget</span> <span class="ruby-operator">&lt;</span> <span class="ruby-constant">Dill</span><span class="ruby-operator">::</span><span class="ruby-constant">Widget</span>
  <span class="ruby-identifier">root</span> <span class="ruby-string">&#39;.selector&#39;</span>, <span class="ruby-identifier">text</span><span class="ruby-operator">:</span> <span class="ruby-string">&#39;Pick me!&#39;</span>
<span class="ruby-keyword">end</span>
</pre>

<p>This is especially useful, e.g., when you want to create a widget to match
a specific error or notification:</p>

<pre class="ruby"><span class="ruby-keyword">class</span> <span class="ruby-constant">NoFreeSpace</span> <span class="ruby-operator">&lt;</span> <span class="ruby-constant">Dill</span><span class="ruby-operator">::</span><span class="ruby-constant">Widget</span>
  <span class="ruby-identifier">root</span> <span class="ruby-string">&#39;.error&#39;</span>, <span class="ruby-identifier">text</span><span class="ruby-operator">:</span> <span class="ruby-string">&#39;No free space left!&#39;</span>
<span class="ruby-keyword">end</span>
</pre>

<p>So, given the following HTML:</p>

<pre class="code ruby"><code class="ruby">&lt;body&gt;
  &lt;div class=&quot;error&quot;&gt;No free space left!&lt;/div&gt;

  &lt;!-- ... --&gt;
&lt;/body&gt;</code></pre>

<p>You can test for the error&#39;s present using the following code:</p>

<pre class="ruby"><span class="ruby-identifier">document</span>.<span class="ruby-identifier">has_widget?</span>(:<span class="ruby-identifier">no_free_space</span>) <span class="ruby-comment">#=&gt; true</span>
</pre>

<p>Note: When you want to match text, consider using <code>I18n.t</code>
instead of hard-coding the text, so that your tests don&#39;t break when
the text changes.</p>

<p>Finally, you may want to override the query language:</p>

<pre class="ruby"><span class="ruby-keyword">class</span> <span class="ruby-constant">MyWidgetUsesXPath</span> <span class="ruby-operator">&lt;</span> <span class="ruby-constant">Dill</span><span class="ruby-operator">::</span><span class="ruby-constant">Widget</span>
  <span class="ruby-identifier">root</span> :<span class="ruby-identifier">xpath</span>, <span class="ruby-string">&#39;//some/node&#39;</span>
<span class="ruby-keyword">end</span>
</pre>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


250
251
252</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/dill/widgets/widget.rb', line 250</span>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_root'>root</span><span class='lparen'>(</span><span class='op'>*</span><span class='id identifier rubyid_selector'>selector</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span>
  <span class='ivar'>@selector</span> <span class='op'>=</span> <span class='id identifier rubyid_block'>block</span> <span class='op'>?</span> <span class='lbracket'>[</span><span class='id identifier rubyid_block'>block</span><span class='rbracket'>]</span> <span class='op'>:</span> <span class='id identifier rubyid_selector'>selector</span><span class='period'>.</span><span class='id identifier rubyid_flatten'>flatten</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="selector-class_method">
  
    + (<tt>Object</tt>) <strong>selector</strong>(*args) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns the selector specified with <code>root</code>.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


258
259
260
261
262
263
264
265
266
267
268
269
270</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/dill/widgets/widget.rb', line 258</span>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_selector'>selector</span><span class='lparen'>(</span><span class='op'>*</span><span class='id identifier rubyid_args'>args</span><span class='rparen'>)</span>
  <span class='kw'>if</span> <span class='ivar'>@selector</span>
    <span class='id identifier rubyid_fst'>fst</span> <span class='op'>=</span> <span class='ivar'>@selector</span><span class='period'>.</span><span class='id identifier rubyid_first'>first</span>

    <span class='id identifier rubyid_fst'>fst</span><span class='period'>.</span><span class='id identifier rubyid_respond_to?'>respond_to?</span><span class='lparen'>(</span><span class='symbol'>:call</span><span class='rparen'>)</span> <span class='op'>?</span> <span class='id identifier rubyid_fst'>fst</span><span class='period'>.</span><span class='id identifier rubyid_call'>call</span><span class='lparen'>(</span><span class='op'>*</span><span class='id identifier rubyid_args'>args</span><span class='rparen'>)</span> <span class='op'>:</span> <span class='ivar'>@selector</span>
  <span class='kw'>else</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_superclass'>superclass</span><span class='period'>.</span><span class='id identifier rubyid_respond_to?'>respond_to?</span><span class='lparen'>(</span><span class='symbol'>:selector</span><span class='rparen'>)</span>
      <span class='id identifier rubyid_superclass'>superclass</span><span class='period'>.</span><span class='id identifier rubyid_selector'>selector</span>
    <span class='kw'>else</span>
      <span class='id identifier rubyid_raise'>raise</span> <span class='const'>MissingSelector</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>no selector defined</span><span class='tstring_end'>&#39;</span></span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="widget-class_method">
  
    
      <span class="overload">+ (<tt>Object</tt>) <strong>widget</strong>(name, selector, type = Widget) </span>
    
      <span class="overload">+ (<tt>Object</tt>) <strong>widget</strong>(name, type) </span>
    
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Declares a new child widget.</p>

<p>Child widgets are accessible inside the container widget using the
<span class='object_link'><a href="WidgetParts/Container.html#widget-instance_method" title="Dill::WidgetParts::Container#widget (method)">Dill::WidgetParts::Container#widget</a></span> message, or by sending a message <code>name</code>. They are
automatically scoped to the parent widget&#39;s root node.</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <p class="tag_title">Examples:</p>
    
      
        <p class="example_title"><div class='inline'>
<p>Defining a widget</p>
</div></p>
      
      <pre class="example code"><code><span class='comment'># Given the following HTML:
</span><span class='comment'>#
</span><span class='comment'># &lt;div id=&quot;root&quot;&gt;
</span><span class='comment'>#   &lt;span id=&quot;child&quot;&gt;Child&lt;/span&gt;
</span><span class='comment'># &lt;/div&gt;
</span><span class='kw'>class</span> <span class='const'>Container</span> <span class='op'>&lt;</span> <span class='const'>Dill</span><span class='op'>::</span><span class='const'>Widget</span>
  <span class='id identifier rubyid_root'>root</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>#root</span><span class='tstring_end'>&#39;</span></span>

  <span class='id identifier rubyid_widget'>widget</span> <span class='symbol'>:my_widget</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>#child</span><span class='tstring_end'>&#39;</span></span>
<span class='kw'>end</span>

<span class='id identifier rubyid_container'>container</span> <span class='op'>=</span> <span class='id identifier rubyid_widget'>widget</span><span class='lparen'>(</span><span class='symbol'>:container</span><span class='rparen'>)</span>

<span class='comment'># accessing using #widget
</span><span class='id identifier rubyid_my_widget'>my_widget</span> <span class='op'>=</span> <span class='id identifier rubyid_container'>container</span><span class='period'>.</span><span class='id identifier rubyid_widget'>widget</span><span class='lparen'>(</span><span class='symbol'>:my_widget</span><span class='rparen'>)</span>

<span class='comment'># accessing using #my_widget
</span><span class='id identifier rubyid_my_widget'>my_widget</span> <span class='op'>=</span> <span class='id identifier rubyid_container'>container</span><span class='period'>.</span><span class='id identifier rubyid_my_widget'>my_widget</span></code></pre>
    
  </div>

  <p class="tag_title">Overloads:</p>
  <ul class="overload">
    
      
      <li class="overload_item">
        <span class="signature">+ (<tt>Object</tt>) <strong>widget</strong>(name, selector, type = Widget) </span>
        <div class="docstring">
  <div class="discussion">
    
<p>The most common form, it allows you to pass in a selector as well as a type
for the child widget. The selector will override <code>type</code>&#39;s
root selector, if <code>type</code> has one defined.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>name</span>
      
      
        <span class='type'></span>
      
      
      
        &mdash;
        <div class='inline'>
<p>the child widget&#39;s name.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>selector</span>
      
      
        <span class='type'></span>
      
      
      
        &mdash;
        <div class='inline'>
<p>the child widget&#39;s selector. You can pass either a String or, if you
want to use a composite selector, an Array.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>type</span>
      
      
        <span class='type'></span>
      
      
        <em class="default">(defaults to: <tt>Widget</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>the child widget&#39;s parent class.</p>
</div>
      
    </li>
  
</ul>


</div>
      </li>
    
      
      <li class="overload_item">
        <span class="signature">+ (<tt>Object</tt>) <strong>widget</strong>(name, type) </span>
        <div class="docstring">
  <div class="discussion">
    
<p>This form allows you to omit <code>selector</code> from the arguments. It
will reuse <code>type</code>&#39;s root selector.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>name</span>
      
      
        <span class='type'></span>
      
      
      
        &mdash;
        <div class='inline'>
<p>the child widget&#39;s name.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>type</span>
      
      
        <span class='type'></span>
      
      
      
        &mdash;
        <div class='inline'>
<p>the child widget&#39;s parent class.</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Raises:</p>
<ul class="raise">
  
    <li>
      
      
        <span class='type'></span>
      
      
      
        
        <div class='inline'>
<p>ArgumentError if <code>type</code> has no root selector defined.</p>
</div>
      
    </li>
  
</ul>

</div>
      </li>
    
  </ul>

<p class="tag_title">Yields:</p>
<ul class="yield">
  
    <li>
      
      
        <span class='type'></span>
      
      
      
        
        <div class='inline'>
<p>A block allowing you to further customize the widget behavior.</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Raises:</p>
<ul class="raise">
  
    <li>
      
      
        <span class='type'>(<tt>ArgumentError</tt>)</span>
      
      
      
    </li>
  
</ul>

  <p class="tag_title">See Also:</p>
  <ul class="see">
    
      <li><span class='object_link'><a href="WidgetParts/Container.html#widget-instance_method" title="Dill::WidgetParts::Container#widget (method)">Dill::WidgetParts::Container#widget</a></span></li>
    
  </ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/dill/widgets/widget.rb', line 107</span>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_widget'>widget</span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='op'>*</span><span class='id identifier rubyid_rest'>rest</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_raise'>raise</span> <span class='const'>ArgumentError</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>`</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_content'>&#39; is a reserved name</span><span class='tstring_end'>&quot;</span></span> \
    <span class='kw'>if</span> <span class='const'>WidgetParts</span><span class='op'>::</span><span class='const'>Container</span><span class='period'>.</span><span class='id identifier rubyid_instance_methods'>instance_methods</span><span class='period'>.</span><span class='id identifier rubyid_include?'>include?</span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span><span class='period'>.</span><span class='id identifier rubyid_to_sym'>to_sym</span><span class='rparen'>)</span>

  <span class='kw'>case</span> <span class='id identifier rubyid_rest'>rest</span><span class='period'>.</span><span class='id identifier rubyid_first'>first</span>
  <span class='kw'>when</span> <span class='const'>Class</span>
    <span class='id identifier rubyid_arg_count'>arg_count</span> <span class='op'>=</span> <span class='id identifier rubyid_rest'>rest</span><span class='period'>.</span><span class='id identifier rubyid_size'>size</span> <span class='op'>+</span> <span class='int'>1</span>
    <span class='id identifier rubyid_raise'>raise</span> <span class='const'>ArgumentError</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>wrong number of arguments (</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_arg_count'>arg_count</span><span class='embexpr_end'>}</span><span class='tstring_content'> for 2)</span><span class='tstring_end'>&quot;</span></span> \
      <span class='kw'>unless</span> <span class='id identifier rubyid_arg_count'>arg_count</span> <span class='op'>==</span> <span class='int'>2</span>

    <span class='id identifier rubyid_type'>type</span> <span class='op'>=</span> <span class='id identifier rubyid_rest'>rest</span><span class='period'>.</span><span class='id identifier rubyid_first'>first</span>
    <span class='id identifier rubyid_raise'>raise</span> <span class='const'>TypeError</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>can&#39;t convert `</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_type'>type</span><span class='embexpr_end'>}</span><span class='tstring_content'>&#39; to Widget</span><span class='tstring_end'>&quot;</span></span> \
      <span class='kw'>unless</span> <span class='id identifier rubyid_type'>type</span><span class='period'>.</span><span class='id identifier rubyid_methods'>methods</span><span class='period'>.</span><span class='id identifier rubyid_include?'>include?</span><span class='lparen'>(</span><span class='symbol'>:selector</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_raise'>raise</span> <span class='const'>ArgumentError</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>missing root selector for `</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_type'>type</span><span class='embexpr_end'>}</span><span class='tstring_content'>&#39;</span><span class='tstring_end'>&quot;</span></span> \
      <span class='kw'>unless</span> <span class='id identifier rubyid_type'>type</span><span class='period'>.</span><span class='id identifier rubyid_selector'>selector</span>

    <span class='id identifier rubyid_selector'>selector</span> <span class='op'>=</span> <span class='id identifier rubyid_type'>type</span><span class='period'>.</span><span class='id identifier rubyid_selector'>selector</span>
  <span class='kw'>when</span> <span class='const'>String</span><span class='comma'>,</span> <span class='const'>Array</span><span class='comma'>,</span> <span class='const'>Proc</span>
    <span class='id identifier rubyid_arg_count'>arg_count</span> <span class='op'>=</span> <span class='id identifier rubyid_rest'>rest</span><span class='period'>.</span><span class='id identifier rubyid_size'>size</span> <span class='op'>+</span> <span class='int'>1</span>

    <span class='kw'>case</span> <span class='id identifier rubyid_arg_count'>arg_count</span>
    <span class='kw'>when</span> <span class='int'>0</span><span class='comma'>,</span> <span class='int'>1</span>
      <span class='id identifier rubyid_raise'>raise</span> <span class='const'>ArgumentError</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>wrong number of arguments (</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_arg_count'>arg_count</span><span class='embexpr_end'>}</span><span class='tstring_content'> for 2)</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>when</span> <span class='int'>2</span>
      <span class='id identifier rubyid_selector'>selector</span><span class='comma'>,</span> <span class='id identifier rubyid_type'>type</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='op'>*</span><span class='id identifier rubyid_rest'>rest</span><span class='comma'>,</span> <span class='const'>Widget</span><span class='rbracket'>]</span>
    <span class='kw'>when</span> <span class='int'>3</span>
      <span class='id identifier rubyid_selector'>selector</span><span class='comma'>,</span> <span class='id identifier rubyid_type'>type</span> <span class='op'>=</span> <span class='id identifier rubyid_rest'>rest</span>

      <span class='id identifier rubyid_raise'>raise</span> <span class='const'>TypeError</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>can&#39;t convert `</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_type'>type</span><span class='embexpr_end'>}</span><span class='tstring_content'>&#39; to Widget</span><span class='tstring_end'>&quot;</span></span> \
        <span class='kw'>unless</span> <span class='const'>Class</span> <span class='op'>===</span> <span class='id identifier rubyid_type'>type</span>
    <span class='kw'>else</span>
      <span class='id identifier rubyid_raise'>raise</span> <span class='const'>ArgumentError</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>wrong number of arguments (</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_arg_count'>arg_count</span><span class='embexpr_end'>}</span><span class='tstring_content'> for 3)</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>end</span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_raise'>raise</span> <span class='const'>ArgumentError</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>unknown method signature: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_rest'>rest</span><span class='period'>.</span><span class='id identifier rubyid_inspect'>inspect</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_child'>child</span> <span class='op'>=</span> <span class='const'>WidgetClass</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='id identifier rubyid_selector'>selector</span><span class='comma'>,</span> <span class='id identifier rubyid_type'>type</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span>

  <span class='id identifier rubyid_const_set'>const_set</span><span class='lparen'>(</span><span class='const'>Dill</span><span class='op'>::</span><span class='const'>WidgetName</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_to_sym'>to_sym</span><span class='comma'>,</span> <span class='id identifier rubyid_child'>child</span><span class='rparen'>)</span>

  <span class='id identifier rubyid_child'>child</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="widget_delegator-class_method">
  
    + (<tt>Object</tt>) <strong>widget_delegator</strong>(name, widget_message, method_name = nil) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Creates a delegator for one child widget message.</p>

<p>Since widgets are accessed through <span class='object_link'><a href="WidgetParts/Container.html#widget-instance_method" title="Dill::WidgetParts::Container#widget (method)">Dill::WidgetParts::Container#widget</a></span>, we
can&#39;t use Forwardable to delegate messages to widgets.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>name</span>
      
      
        <span class='type'></span>
      
      
      
        &mdash;
        <div class='inline'>
<p>the name of the receiver child widget</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>widget_message</span>
      
      
        <span class='type'></span>
      
      
      
        &mdash;
        <div class='inline'>
<p>the name of the message to be sent to the child widget</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>method_name</span>
      
      
        <span class='type'></span>
      
      
        <em class="default">(defaults to: <tt>nil</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>the name of the delegator. If <code>nil</code> the method will have the
same name as the message it will send.</p>
</div>
      
    </li>
  
</ul>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


160
161
162
163
164
165
166
167
168
169
170
171
172</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/dill/widgets/widget.rb', line 160</span>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_widget_delegator'>widget_delegator</span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='id identifier rubyid_widget_message'>widget_message</span><span class='comma'>,</span> <span class='id identifier rubyid_method_name'>method_name</span> <span class='op'>=</span> <span class='kw'>nil</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_method_name'>method_name</span> <span class='op'>=</span> <span class='id identifier rubyid_method_name'>method_name</span> <span class='op'>||</span> <span class='id identifier rubyid_widget_message'>widget_message</span>

  <span class='id identifier rubyid_class_eval'>class_eval</span> <span class='heredoc_beg'>&lt;&lt;-RUBY</span>
<span class='tstring_content'>    def </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_method_name'>method_name</span><span class='embexpr_end'>}</span><span class='tstring_content'>(*args)
      if args.size == 1
        widget(:</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_content'>).</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_widget_message'>widget_message</span><span class='embexpr_end'>}</span><span class='tstring_content'> args.first
      else
        widget(:</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_content'>).</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_widget_message'>widget_message</span><span class='embexpr_end'>}</span><span class='tstring_content'> *args
      end
    end
</span><span class='heredoc_end'>  RUBY
</span><span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

  <div id="instance_method_details" class="method_details_list">
    <h2>Instance Method Details</h2>

    
      <div class="method_details first">
  <h3 class="signature first" id="absent?-instance_method">
  
    - (<tt>Boolean</tt>) <strong>absent?</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Alias for #gone?</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


278
279
280</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/dill/widgets/widget.rb', line 278</span>

<span class='kw'>def</span> <span class='id identifier rubyid_absent?'>absent?</span>
  <span class='id identifier rubyid_gone?'>gone?</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="click-instance_method">
  
    - (<tt>Object</tt>) <strong>click</strong>(*args) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Clicks the current widget, or the child widget given by <code>name</code>.</p>

<h3 id="label-Usage">Usage</h3>

<p>Given the following widget definition:</p>

<pre class="ruby"><span class="ruby-keyword">class</span> <span class="ruby-constant">Container</span> <span class="ruby-operator">&lt;</span> <span class="ruby-constant">Dill</span><span class="ruby-operator">::</span><span class="ruby-constant">Widget</span>
  <span class="ruby-identifier">root</span> <span class="ruby-string">&#39;#container&#39;</span>

  <span class="ruby-identifier">widget</span> :<span class="ruby-identifier">link</span>, <span class="ruby-string">&#39;a&#39;</span>
<span class="ruby-keyword">end</span>
</pre>

<p>Send <code>click</code> with no arguments to trigger a <code>click</code>
event on <code>#container</code>.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_widget'>widget</span><span class='lparen'>(</span><span class='symbol'>:container</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_click'>click</span></code></pre>

<p>This is the equivalent of doing the following using Capybara:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_find'>find</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>#container</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_click'>click</span></code></pre>

<p>Send <tt>click :link</tt> to trigger a <code>click</code> event on <code>a</code>:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_widget'>widget</span><span class='lparen'>(</span><span class='symbol'>:container</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_click'>click</span> <span class='symbol'>:link</span></code></pre>

<p>This is the equivalent of doing the following using Capybara:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_find'>find</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>#container a</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_click'>click</span></code></pre>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


309
310
311
312
313
314
315</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/dill/widgets/widget.rb', line 309</span>

<span class='kw'>def</span> <span class='id identifier rubyid_click'>click</span><span class='lparen'>(</span><span class='op'>*</span><span class='id identifier rubyid_args'>args</span><span class='rparen'>)</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span>
    <span class='id identifier rubyid_root'>root</span><span class='period'>.</span><span class='id identifier rubyid_click'>click</span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_widget'>widget</span><span class='lparen'>(</span><span class='op'>*</span><span class='id identifier rubyid_args'>args</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_click'>click</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="diff-instance_method">
  
    - (<tt>Object</tt>) <strong>diff</strong>(table, wait_time = Capybara.default_wait_time) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Compares this widget with the given Cucumber <code>table</code>.</p>

<h3 id="label-Example">Example</h3>

<pre class="ruby"><span class="ruby-constant">Then</span>(<span class="ruby-regexp">/^some step that takes in a cucumber table$/</span>) <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">table</span><span class="ruby-operator">|</span>
  <span class="ruby-identifier">widget</span>(:<span class="ruby-identifier">my_widget</span>).<span class="ruby-identifier">diff</span> <span class="ruby-identifier">table</span>
<span class="ruby-keyword">end</span>
</pre>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


324
325
326</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/dill/widgets/widget.rb', line 324</span>

<span class='kw'>def</span> <span class='id identifier rubyid_diff'>diff</span><span class='lparen'>(</span><span class='id identifier rubyid_table'>table</span><span class='comma'>,</span> <span class='id identifier rubyid_wait_time'>wait_time</span> <span class='op'>=</span> <span class='const'>Capybara</span><span class='period'>.</span><span class='id identifier rubyid_default_wait_time'>default_wait_time</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_table'>table</span><span class='period'>.</span><span class='id identifier rubyid_diff!'>diff!</span><span class='lparen'>(</span><span class='id identifier rubyid_to_table'>to_table</span><span class='rparen'>)</span> <span class='op'>||</span> <span class='kw'>true</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="gone?-instance_method">
  
    - (<tt>Boolean</tt>) <strong>gone?</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns <code>true</code> if the widget is not visible, or has been removed
from the DOM.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


330
331
332</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/dill/widgets/widget.rb', line 330</span>

<span class='kw'>def</span> <span class='id identifier rubyid_gone?'>gone?</span>
  <span class='op'>!</span> <span class='id identifier rubyid_root'>root</span> <span class='kw'>rescue</span> <span class='kw'>true</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="has_action?-instance_method">
  
    - (<tt>Boolean</tt>) <strong>has_action?</strong>(name) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Determines if the widget underlying an action exists.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>name</span>
      
      
        <span class='type'></span>
      
      
      
        &mdash;
        <div class='inline'>
<p>the name of the action</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p><code>true</code> if the action widget is found, <code>false</code>
otherwise.</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Raises:</p>
<ul class="raise">
  
    <li>
      
      
        <span class='type'></span>
      
      
      
        
        <div class='inline'>
<p>Missing if an action with <code>name</code> can&#39;t be found.</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


342
343
344
345
346</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/dill/widgets/widget.rb', line 342</span>

<span class='kw'>def</span> <span class='id identifier rubyid_has_action?'>has_action?</span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_raise'>raise</span> <span class='const'>Missing</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>couldn&#39;t find `</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_content'>&#39; action</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>unless</span> <span class='id identifier rubyid_respond_to?'>respond_to?</span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span><span class='rparen'>)</span>

  <span class='id identifier rubyid_has_widget?'>has_widget?</span><span class='lparen'>(</span><span class='symbol'>:#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_content'>_widget</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="inspect-instance_method">
  
    - (<tt>Object</tt>) <strong>inspect</strong> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


348
349
350
351
352
353
354
355
356
357
358
359
360
361</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/dill/widgets/widget.rb', line 348</span>

<span class='kw'>def</span> <span class='id identifier rubyid_inspect'>inspect</span>
  <span class='id identifier rubyid_inspection'>inspection</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>&lt;!-- </span><span class='embexpr_beg'>#{</span><span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_class'>class</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_content'>: --&gt;\n</span><span class='tstring_end'>&quot;</span></span>

  <span class='kw'>begin</span>
    <span class='id identifier rubyid_root'>root</span> <span class='op'>=</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_root'>root</span>
    <span class='id identifier rubyid_xml'>xml</span> <span class='op'>=</span> <span class='const'>Nokogiri</span><span class='op'>::</span><span class='const'>HTML</span><span class='lparen'>(</span><span class='id identifier rubyid_page'>page</span><span class='period'>.</span><span class='id identifier rubyid_body'>body</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_at'>at</span><span class='lparen'>(</span><span class='id identifier rubyid_root'>root</span><span class='period'>.</span><span class='id identifier rubyid_path'>path</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_to_xml'>to_xml</span>

    <span class='id identifier rubyid_inspection'>inspection</span> <span class='op'>&lt;&lt;</span> <span class='const'>Nokogiri</span><span class='op'>::</span><span class='const'>XML</span><span class='lparen'>(</span><span class='id identifier rubyid_xml'>xml</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='symbol'>:noblanks</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_to_xhtml'>to_xhtml</span>
  <span class='kw'>rescue</span> <span class='const'>Capybara</span><span class='op'>::</span><span class='const'>NotSupportedByDriverError</span>
    <span class='id identifier rubyid_inspection'>inspection</span> <span class='op'>&lt;&lt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>&lt;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_root'>root</span><span class='period'>.</span><span class='id identifier rubyid_tag_name'>tag_name</span><span class='embexpr_end'>}</span><span class='tstring_content'>&gt;\n</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_to_s'>to_s</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>rescue</span> <span class='const'>Capybara</span><span class='op'>::</span><span class='const'>ElementNotFound</span><span class='comma'>,</span> <span class='op'>*</span><span class='id identifier rubyid_page'>page</span><span class='period'>.</span><span class='id identifier rubyid_driver'>driver</span><span class='period'>.</span><span class='id identifier rubyid_invalid_element_errors'>invalid_element_errors</span>
    <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>#&lt;DETACHED&gt;</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="present?-instance_method">
  
    - (<tt>Boolean</tt>) <strong>present?</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns <code>true</code> if widget is visible.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


364
365
366</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/dill/widgets/widget.rb', line 364</span>

<span class='kw'>def</span> <span class='id identifier rubyid_present?'>present?</span>
  <span class='op'>!</span><span class='op'>!</span> <span class='id identifier rubyid_root'>root</span> <span class='kw'>rescue</span> <span class='kw'>false</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="root-instance_method">
  
    - (<tt>Object</tt>) <strong>root</strong> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


368
369
370</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/dill/widgets/widget.rb', line 368</span>

<span class='kw'>def</span> <span class='id identifier rubyid_root'>root</span>
  <span class='id identifier rubyid_node'>node</span> <span class='op'>||</span> <span class='id identifier rubyid_query'>query</span><span class='period'>.</span><span class='lparen'>(</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="text-instance_method">
  
    - (<tt>Object</tt>) <strong>text</strong> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


372
373
374</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/dill/widgets/widget.rb', line 372</span>

<span class='kw'>def</span> <span class='id identifier rubyid_text'>text</span>
  <span class='id identifier rubyid_root'>root</span><span class='period'>.</span><span class='id identifier rubyid_text'>text</span><span class='period'>.</span><span class='id identifier rubyid_strip'>strip</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="to_cell-instance_method">
  
    - (<tt>Object</tt>) <strong>to_cell</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Converts this widget into a string representation suitable to be displayed
in a Cucumber table cell. By default calls #text.</p>

<p>This method will be called by methods that build tables or rows (usually
#to_table or #to_row) so, in general, you won&#39;t call it directly, but
feel free to override it when needed.</p>

<p>Returns a String.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


384
385
386</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/dill/widgets/widget.rb', line 384</span>

<span class='kw'>def</span> <span class='id identifier rubyid_to_cell'>to_cell</span>
  <span class='id identifier rubyid_text'>text</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="to_s-instance_method">
  
    - (<tt>Object</tt>) <strong>to_s</strong> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


388
389
390</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/dill/widgets/widget.rb', line 388</span>

<span class='kw'>def</span> <span class='id identifier rubyid_to_s'>to_s</span>
  <span class='id identifier rubyid_text'>text</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="value-instance_method">
  
    - (<tt>Object</tt>) <strong>value</strong> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


392
393
394</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/dill/widgets/widget.rb', line 392</span>

<span class='kw'>def</span> <span class='id identifier rubyid_value'>value</span>
  <span class='id identifier rubyid_text'>text</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

</div>

    <div id="footer">
  Generated on Tue Mar 11 10:57:08 2014 by
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.8.7.3 (ruby-2.0.0) HIU!!.
</div>

  </body>
</html>